{"projectName":"mob_stat","datapackDirectory":null,"offuscate":false,"isLibrary":false,"files":[{"name":"import","content":"import math","index":0},{"name":"mob","content":"package mob\n\nstruct MobStat{\n\tint hp, hp_max\n\tint invisTick\n\tfunction dmgFunction, deathFunction\n\tint invisTime\n\tdef __init__(int hp, int hp_max){\n\t\tthis.hp = hp\n\t\tthis.hp_max = hp_max\n\t\tthis.invisTime = 10\n\t}\n\t\n\tdef damage(int amount):bool{\n\t\tbool val = false\n\t\tif (invisTick < 0 && hp > 0){\n\t\t\thp -= amount\n\t\t\tinvisTick = invisTime\n\t\t\tdmgFunction()\n\t\t\tval = true\n\t\t}\n\n\t\tif (hp <= 0){\n\t\t\tdeathFunction()\n\t\t}\n\t\treturn(val)\n\t}\n\tdef heal(int amount){\n\t\thp = math.Min(hp+amount,hp_max)\n\t}\n\tdef fullHeal(){\n\t\thp = hp_max\n\t}\n\t\n\tdef tick(){\n\t\tinvisTick --\n\t}\n\t\n\tdef lazy onDamage(function func){\n\t\tthis.dmgFunction = func\n\t}\n\tdef lazy onDeath(function func){\n\t\tthis.deathFunction = func\n\t}\n\tdef lazy setInvinsibilityTime(int value){\n\t\tthis.invisTime = value\n\t}\n}\n\nMOBSTAT Stat\n\ndef ticking tick(){\n\twith(@e[tag=damagable]){\n\t\tStat.tick()\n\t}\n}\ndef damage(int amount):bool{\n\treturn(Stat.damage(amount))\n}","index":0}],"TagsList":{"blocks":{},"functions":{}},"mcTagsList":{"blocks":{},"functions":{"load":{"values":["load"]},"tick":{"values":["main"]}}},"compileOrder":[],"version":{"major":1,"minor":0,"patch":0,"build":2}}