{"projectName":"parkour_spawn","datapackDirectory":null,"resourcesPackDirectory":null,"offuscate":true,"isLibrary":true,"description":"Made With BluePhoenix","files":[{"name":"import","content":"import tools","index":0},{"name":"parkour_spawnpoint","content":"package parkour_spawnpoint\n\nINT X, Y, Z, U, OX, OY, OZ, OU\n\ndef reset(){\n    X, Y, Z, U, OX, OY, OZ, OU = null\n}\n\ndef respawn(){\n    /summon marker ~ ~ ~ {Tags:[\"rsp.trg\", \"gb.collect\"]}\n    bool succeded = false\n    tag(rsp.plr)\n    int TX, TY, TZ, TU = X, Y, Z, U\n    with(@e[tag=rsp.trg,limit=1]){\n        @s.x = TX\n        @s.y = TY\n        @s.z = TZ\n        @s.rotation_x = TU\n        at(@s){\n            /tp @s ~0.5 ~0.5 ~0.5\n        }\n        /tp @a[tag=rsp.plr] @s\n        succeded = true\n        kill()\n    }\n    untag(rsp.plr)\n    /# fix for P_King glitch\n    if (!succeded){\n        kill()\n    }\n}\n\n\ndef setSpawn(bool silent = false):bool{\n    int x = @s.x\n    int y = @s.y\n    int z = @s.z\n    int u = @s.rotation_x\n    bool set = true\n    bool backward = false\n    if (x == X && y == Y && z == Z){\n        set = false\n        U = u\n    }\n    if (x == OX && y == OY && z == OZ){\n        set = false\n        backward = true\n    }\n    if (set){\n        OX = X\n        OY = Y\n        OZ = Z\n        OU = U\n        X = x\n        Y = y\n        Z = z\n        U = u\n        at(@s){\n            /spawnpoint @s ~ ~ ~ ~\n        }\n        if (!silent){\n            /particle minecraft:totem_of_undying ~ ~ ~ 1 1 1 1 100 force\n            /playsound minecraft:entity.player.levelup master @s ~ ~ ~ 1\n        }\n    }\n    if(backward){\n        respawn()\n        tellraw(@s,(\"Wrong way!\",red))\n    }\n    return(set)\n}\ndef setSpawn(float sx, float sz, bool silent = false):bool{\n    float fx = @s.x\n    fx += sx\n    float fz = @s.z\n    fz += sz\n    int x = fx\n    int y = @s.y\n    int z = fz\n    int u = @s.rotation_x\n    bool set = true\n    bool backward = false\n    \n    if (x == X && y == Y && z == Z){\n        set = false\n        U = u\n    }\n    if (x == OX && y == OY && z == OZ){\n        set = false\n        backward = true\n    }\n    if (set){\n        OX = X\n        OY = Y\n        OZ = Z\n        OU = U\n        X = x\n        Y = y\n        Z = z\n        U = u\n        at(@s){\n            /spawnpoint @s ~ ~ ~ ~\n        }\n        if (!silent){\n            /particle minecraft:totem_of_undying ~ ~ ~ 1 1 1 1 100 force\n            /playsound minecraft:entity.player.levelup master @s ~ ~ ~ 1\n        }\n    }\n    if(backward && @s[gamemode=adventure]){\n        respawn()\n        title(@s,title,(\"Wrong way!\",red))\n    }\n    return(set)\n}\ndef lazy checkpoint(int $block, function $action){\n    forgenerate($x,-1,1){\n        forgenerate($z,-1,1){\n            if (block(~$x ~-1 ~$z $block)){\n                if (parkour_spawnpoint.setSpawn($x,$z)){\n                    $action()\n                }\n            }\n        }\n    }\n}\n\nalias goSpawn as respawn\nalias goToSpawn as respawn\n\nalias spawnpoint as setSpawn","index":0}],"resources":[],"TagsList":{"blocks":{},"functions":{}},"mcTagsList":{"blocks":{},"functions":{"load":{"values":["load"]},"tick":{"values":["main"]}}},"compileOrder":[],"version":{"major":1,"minor":0,"patch":0,"build":25},"compilationSetting":{"TreeMaxSize":20,"FloatPrecision":1000,"removeUselessFile":true,"offuscate":true,"randomLambdaID":false,"scoreboardValue":"tbms.value","structuresSource":"","structuresSources":{},"scoreboardConst":"tbms.const","scoreboardTmp":"tbms.tmp","tagsFolder":true,"forcedOffuscation":{},"libraryFolder":["./lib/1_16_5/"],"MCVersion":"1.16.5","ExportAsZip":false,"packformat":6,"rppackformat":7,"CompilerCoreName":"java","Authors":"","generateMAPSFile":true,"generateREADMEFile":true,"opti_FunctionTagsReplace":true,"opti_ExportComment":false,"opti_ShowException":true,"opti_ShowDebug":true,"opti_FileCleanUp":true,"opti_LambdaCleanUp":false,"advanced_debug":false,"isLibrary":false}}