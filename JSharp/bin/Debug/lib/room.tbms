{"projectName":"room","datapackDirectory":null,"offuscate":false,"isLibrary":false,"files":[{"name":"import","content":"import math","index":0},{"name":"room_ticking","content":"package room\n\nint x, y, z\ndef ticking room_main(){\n\t@room_init()\n\twith(@a,true){\n\t\tx = @s.x\n\t\ty = @s.y\n\t\tz = @s.z\n\t\t@room_ticking()\n\t}\n\t@room_end()\n}","index":0},{"name":"room","content":"package room\n\nenum room_color = white, red, orange, yellow, green, aqua, blue, purple\n\nstruct room{\n\tint sx, sy, sz, ex, ey, ez\n\tfunction eventEnter, eventStay, eventExit, eventActivate, eventDisactivate\n\tbool hasEnterEvent, hasStayEvent, hasExitEvent, hasActivateEvent, hasDisactivateEvent\n\troom_color color\n\tBOOL IN\n\tbool display, hasDisplay, count\n\tint nbPlayer\n\tdef __init__(int sx, int sy, int sz, int ex, int ey, int ez){\n\t\tthis.sx, this.ex = math.sorted(sx, ex)\n\t\tthis.sy, this.ey = math.sorted(sy, ey)\n\t\tthis.sz, this.ez = math.sorted(sz, ez)\n\t\tthis.ex += 1\n\t\tthis.ey += 1\n\t\tthis.ez += 1\n\t\thasEnterEvent, hasStayEvent, hasExitEvent, hasActivateEvent, hasDisactivateEvent = false\n\t\tcount = true\n\t\tdisplay = true\n\t\tcolor = yellow\n\t}\n\tdef setColor(room_color c){\n\t\tcolor = c\n\t}\n\tdef onEnter(function event){\n\t\teventEnter = event\n\t\tif (event !=null){\n\t\t\thasEnterEvent = true\n\t\t}\n\t}\n\tdef onStay(function event){\n\t\teventStay = event\n\t\tif (event !=null){\n\t\t\thasStayEvent = true\n\t\t}\n\t}\n\tdef onActivate(function event){\n\t\teventActivate = event\n\t\tif (event !=null){\n\t\t\thasActivateEvent = true\n\t\t}\n\t}\n\tdef onDisactivate(function event){\n\t\teventDisactivate= event\n\t\tif (event !=null){\n\t\t\thasDisactivateEvent = true\n\t\t}\n\t}\n\tdef onExit(function event){\n\t\teventExit = event\n\t\tif (event !=null){\n\t\t\thasExitEvent = true\n\t\t}\n\t}\n\t\n\tdef particule(){\n\t\tswitch(color){\n\t\t\tred -> /particle minecraft:dust 1 0 0 1 ~ ~ ~ 0 0 0 0 1\n\t\t\torange -> /particle minecraft:dust 1 0.5 0 1 ~ ~ ~ 0 0 0 0 1\n\t\t\tyellow -> /particle minecraft:dust 1 1 0 1 ~ ~ ~ 0 0 0 0 1\n\t\t\tgreen -> /particle minecraft:dust 0 1 0 1 ~ ~ ~ 0 0 0 0 1\n\t\t\taqua -> /particle minecraft:dust 0 1 1 1 ~ ~ ~ 0 0 0 0 1\n\t\t\tblue -> /particle minecraft:dust 0 0 1 1 ~ ~ ~ 0 0 0 0 1\n\t\t\tpurple -> /particle minecraft:dust 1 0 1 1 ~ ~ ~ 0 0 0 0 1\n\t\t\twhite -> /particle minecraft:dust 1 1 1 1 ~ ~ ~ 0 0 0 0 1\n\t\t}\n\t}\n\t\n\tdef @room_show show(){\n\t\t/summon armor_stand ~ 0 ~ {Invisible:1,Tags:[\"trg_show\"]}\n\t\twith(@e[tag=trg_show]){\n\t\t\tfor(int x = sx;x <= ex;x++){\n\t\t\t\t@s.x = x\n\t\t\t\t@s.y = sy\n\t\t\t\t@s.z = sz\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.y = ey\n\t\t\t\t@s.z = sz\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.y = sy\n\t\t\t\t@s.z = ez\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.y = ey\n\t\t\t\t@s.z = ez\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int y = sy;y <= ey;y++){\n\t\t\t\t@s.y = y\n\t\t\t\t@s.x = sx\n\t\t\t\t@s.z = sz\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.x = ex\n\t\t\t\t@s.z = sz\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.x = sx\n\t\t\t\t@s.z = ez\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.x = ex\n\t\t\t\t@s.z = ez\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int z = sz;z <= ez;z++){\n\t\t\t\t@s.z = z\n\t\t\t\t@s.y = sy\n\t\t\t\t@s.x = sx\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.y = ey\n\t\t\t\t@s.x = sx\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.y = sy\n\t\t\t\t@s.x = ex\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t\t@s.y = ey\n\t\t\t\t@s.x = ex\n\t\t\t\tat(@s){\n\t\t\t\t\tparticule()\n\t\t\t\t}\n\t\t\t}\n\t\t\tkill(@s)\n\t\t}\n\t}\n\t\n\tdef @room_init main_init(){\n\t\thasDisplay = false\n\t\tif (count){\n\t\t\tnbPlayer = 0\n\t\t}\n\t}\n\tdef @room_end main_end(){\n\t\tif (count){\n\t\t\tcount = false\n\t\t}\n\t}\n\tdef @room_ticking main(){\n\t\tif (x >= sx && x < ex && y >= sy && y < ey && z >= sz && z < ez){\n\t\t\tif (count){\n\t\t\t\tnbPlayer++\n\t\t\t}\n\t\t\tif (!IN){\n\t\t\t\tif (hasEnterEvent){\n\t\t\t\t\teventEnter()\n\t\t\t\t}\n\t\t\t\tif (nbPlayer == 0 && hasActivateEvent){\n\t\t\t\t\teventActivate()\n\t\t\t\t}\n\t\t\t\tif(!count){\n\t\t\t\t\tnbPlayer++\n\t\t\t\t}\n\t\t\t\tIN = true\n\t\t\t}\n\t\t\tif (IN){\n\t\t\t\tif (hasStayEvent){\n\t\t\t\t\teventStay()\n\t\t\t\t}\n\t\t\t\tif (display && !hasDisplay && @a[gamemode=creative]){\n\t\t\t\t\tshow()\n\t\t\t\t\thasDisplay = true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (IN){\n\t\t\tIN = false\n\t\t\tif (hasExitEvent){\n\t\t\t\teventExit()\n\t\t\t}\n\t\t\tif (!count){\n\t\t\t\tnbPlayer--\n\t\t\t\tif (nbPlayer == 0 && hasDisactivateEvent){\n\t\t\t\t\teventDisactivate()\n\t\t\t\t}\n\t\t\t\tif (nbPlayer < 0){\n\t\t\t\t\tnbPlayer = 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","index":0}],"TagsList":{"blocks":{},"functions":{}},"mcTagsList":{"blocks":{},"functions":{"load":{"values":["load"]},"tick":{"values":["main"]}}},"compileOrder":[],"version":{"major":1,"minor":0,"patch":0,"build":33}}